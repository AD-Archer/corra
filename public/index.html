<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Personality Analysis - Discover Your Traits</title>
    <meta name="description" content="Analyze your personality traits with our AI-powered analysis tool. Get insights and follow-up questions to deepen your understanding.">
    <meta name="keywords" content="AI, personality analysis, personality traits, analysis tool, follow-up questions">
    <meta property="og:title" content="AI Personality Analysis">
    <meta property="og:description" content="Discover your personality traits with our AI analysis tool.">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <h1 class="text-center mb-4 gradient-title">AI Personality Analysis</h1>
                <div id="initialization-status" class="text-center mb-4 d-none">
                    <div class="alert alert-info">
                        Initializing application...
                    </div>
                </div>

                <!-- Prompt Type Selection -->
                <div id="prompt-selection" class="card mb-4 shadow-sm">
                    <div class="card-body p-4">
                        <h5 class="card-title mb-3">Choose Your Analysis Type</h5>
                        <select class="form-select mb-3" id="prompt-type">
                            <option value="">Select an analysis type...</option>
                        </select>
                        <div id="custom-prompt-container" class="d-none">
                            <textarea id="custom-prompt" class="form-control mb-3" rows="3" 
                                placeholder="Enter your custom scenario prompt..."></textarea>
                        </div>
                        <button class="btn btn-primary w-100" id="start-analysis" disabled>Start Analysis</button>
                    </div>
                </div>

                <!-- Questions Section -->
                <div id="question-container" class="d-none">
                    <div class="card mb-4">
                        <div class="card-body">
                            <h5 class="card-title question-text"></h5>
                            <div class="question-options d-flex flex-column gap-2">
                                <!-- Options will be added dynamically -->
                            </div>
                            <div class="mt-4 d-flex justify-content-between">
                                <button class="btn btn-secondary" id="prev-question" disabled>Previous</button>
                                <button class="btn btn-primary" id="next-question">Next</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Analysis Results -->
                <div id="analysis-container" class="card d-none">
                    <div class="card-body">
                        <h5 class="card-title">Your Analysis</h5>
                        <pre id="analysis-text" class="mb-4"></pre>
                        
                        <!-- Follow-up Section -->
                        <div id="follow-up-section" class="mb-4">
                            <h6>Follow-up Questions (Remaining: <span id="remaining-interactions">3</span>)</h6>
                            <textarea id="follow-up-input" class="form-control mb-3" 
                                placeholder="Ask a follow-up question about your analysis..."></textarea>
                            <button id="submit-follow-up" class="btn btn-primary w-100 mb-3">Ask Question</button>
                        </div>

                        <button id="restart-btn" class="btn btn-secondary w-100">Start New Analysis</button>
                    </div>
                </div>

                <!-- Loading Spinner -->
                <div id="loading-container" class="loading-overlay position-fixed top-0 start-0 w-100 h-100 d-none">
                    <div class="loading-content p-4 rounded-3 shadow-lg text-center">
                        <div class="spinner-border text-primary mb-3" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        <div class="loading-text">Processing your request...</div>
                    </div>
                </div>

                <!-- How to Use Section -->
                <div id="how-to-use" class="mb-5">
                    <h2 class="text-center mb-4">How to Use This Site</h2>
                    <p>Welcome to the AI Personality Analysis tool! Follow these simple steps to get started:</p>
                    <ol>
                        <li>Select your desired analysis type from the dropdown menu.</li>
                        <li>If you choose "Custom," enter your specific scenario in the provided text area.</li>
                        <li>Click the "Start Analysis" button to begin.</li>
                        <li>Answer the questions presented to you. You can select options or type your responses.</li>
                        <li>Use the "Next" button to navigate through the questions, and the "Back" button to review your answers.</li>
                        <li>Once you reach the last question, click "Submit" to receive your analysis.</li>
                        <li>You can ask follow-up questions based on your analysis results.</li>
                        <li>If you wish to start a new analysis, click the "Start New Analysis" button.</li>
                    </ol>
                    <p>If you have any questions or need assistance, feel free to reach out!</p>
                </div>

                <!-- Update the options buttons -->
                <div class="question-options d-flex flex-column gap-2">
                    <!-- Options will be added by JavaScript -->
                </div>
            </div>
        </div>
    </div>
    <script src="app.js"></script>
</body>
</html> 